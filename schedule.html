<script>

    $('.fans .switch').css( "bottom", "70px" );
    $('.setting .switch').css( "bottom", "70px" );

</script>
<script src="Chart.js/Chart.js"></script>

<div class="container-fluid">

    <div class="row menu">

        <div class="logo tab">
            <a href="#"><img src="_img/authero-logo.png" /></a>
        </div>

        <div class="tabs">
            <div class="tab col-xs-5">
                <a href="#">Home</a>
            </div>

            <div class="tab highlight col-xs-5">
                <a href="#/schedule">Schedule</a>
            </div>

            <div class="clear"></div>
        </div>
    </div>

    <div class="row main">
        <div class="temp col-xs-12">
            <div class="degree">{{ targetTemp }}<span>&deg;</span></div>
            <div id="temp_controls">
                <div class="down" ng-click="tempDown()"><img class="flip" src="_img/temp-down.png" /></div>
                <div class="up" ng-click="tempUp()"><img src="_img/temp-up.png" /></div>
            </div>


            <div class="bar">
                <div class="fans col-xs-5 ">
                    <div class="switch">
                        <ul>
                            <li><a href="" ng-click="setFanState('ON')">ON</a></li>
                            <li><a href="" ng-click="setFanState('OFF')">OFF</a></li>
                            <li><a href="" ng-click="setFanState('AUTO')">AUTO</a></li>
                        </ul>
                    </div>
                    <div ng-switch="fanState">
                        <div ng-click="toggleFanMenu()">
                            <div ng-switch-when="ON"><a href=""><strong>FAN:</strong> ON</a></div>
                            <div ng-switch-when="OFF"><a href=""><strong>FAN:</strong> OFF</a></div>
                            <div ng-switch-when="AUTO"><a href=""><strong>FAN:</strong> AUTO</a></div>
                            <div ng-switch-default>error</div>
                        </div>
                    </div>
                    <div class="clear"></div>
                </div>

                <div class="setting col-xs-5">
                    <div class="switch">
                        <ul>
                            <li><a href="" ng-click="setTempMode('HEAT')">HEAT</a></li>
                            <li><a href="" ng-click="setTempMode('COOL')">COOL</a></li>
                            <li><a href="" ng-click="setTempMode('AUTO')">AUTO</a></li>
                            <li><a href="" ng-click="setTempMode('OFF')">OFF</a></li>
                        </ul>
                    </div>
                    <div ng-switch="tempMode">
                        <div ng-click="toggleTempMenu()">
                            <div ng-switch-when="HEAT"><a href=""><strong>MODE:</strong> HEAT</a></div>
                            <div ng-switch-when="COOL"><a href=""><strong>MODE:</strong> COOL</a></div>
                            <div ng-switch-when="AUTO"><a href=""><strong>MODE:</strong> AUTO</a></div>
                            <div ng-switch-when="OFF"><a href=""><strong>MODE:</strong> OFF</a></div>
                            <div ng-switch-default>error</div>
                        </div>
                    </div>
                </div>
                <div class="clear"></div>
            </div>
        </div>

        <div class="clear"></div>
        

        <div class="rooms col-xs-12 ">
            
            <div id="schedule">
                <table id="days">
                    <tr>
                        <td><a href="" onclick="javascript: draw_graph(sunday_data); highlight_day(this)">Su</a></td>
                        <td><a href="" onclick="javascript: draw_graph(monday_data); highlight_day(this)">M</a></td>
                        <td><a href="" onclick="javascript: draw_graph(tuesday_data); highlight_day(this)">Tu</a></td>
                        <td><a href="" onclick="javascript: draw_graph(wednesday_data); highlight_day(this)">W</a></td>
                        <td><a href="" onclick="javascript: draw_graph(thursday_data); highlight_day(this)" class="highlight">Th</a></td>
                        <td><a href="" onclick="javascript: draw_graph(friday_data); highlight_day(this)">F</a></td>
                        <td><a href="" onclick="javascript: draw_graph(saturday_data); highlight_day(this)">Sa</a></td>
                    </tr>
                </table>

                <canvas id="myChart" style="width: 100%;" height="175"></canvas>

                <table id="rows" ng-repeat="row in schedules track by $index">
                    <thead>
                        <tr class="heading">
                            <td colspan="3">{{row.name}} Schedule <a href="" ng-click="selectSchedule('row.name')">Select</a></td>
                        </tr>
                        <tr>
                            <td>Day</td>
                            <td>Time</td>
                            <td>Temp</td>
                        </tr>
                    </thead>
                    <tbody>
                        <tr ng-repeat="point in row.events track by $index">
                            <td ng-switch on="point.day">
                                <span ng-switch-when="0">Sunday</span>
                                <span ng-switch-when="1">Monday</span>
                                <span ng-switch-when="2">Tuesday</span>
                                <span ng-switch-when="3">Wednesday</span>
                                <span ng-switch-when="4">Thursday</span>
                                <span ng-switch-when="5">Friday</span>
                                <span ng-switch-when="6">Saturday</span>
                                <span ng-switch-default>error</span>
                            </td>
                            <td>{{point.time}}</td>
                            <td>{{point.temp}}</td>
                        </tr
                    </tbody>
                </table>
            </div>

        </div>

    </div>

</div>

<div class="clear"></div>

<script>
// Get the context of the canvas element we want to select
    var highlight_day = function(ele) {
        // console.log(ele);
        $('td > a.highlight').removeClass('highlight');
        ele.className = "highlight";
    }

    var draw_graph = function(my_data) {

        console.log(my_data['label']);

        var ctx = document.getElementById("myChart").getContext("2d");
        var data = {
            labels: ["12AM", "3AM", "6AM", "9AM", "12PM", "3PM", "6PM", "9PM"],
            datasets: [
                my_data
            ]
        };
        var options = {
            scaleLineColor: "rgba(0,0,0,.4)",
            scaleFontColor: "#2A363B",

            ///Boolean - Whether grid lines are shown across the chart
            scaleShowGridLines : true,

            //String - Colour of the grid lines
            scaleGridLineColor : "rgba(0,0,0,.15)",

            //Number - Width of the grid lines
            scaleGridLineWidth : 1,

            //Boolean - Whether to show horizontal lines (except X axis)
            scaleShowHorizontalLines: true,

            //Boolean - Whether to show vertical lines (except Y axis)
            scaleShowVerticalLines: true,

            //Boolean - Whether the line is curved between points
            bezierCurve : true,

            //Number - Tension of the bezier curve between points
            bezierCurveTension : 0.4,

            //Boolean - Whether to show a dot for each point
            pointDot : true,

            //Number - Radius of each point dot in pixels
            pointDotRadius : 4,

            //Number - Pixel width of point dot stroke
            pointDotStrokeWidth : 1,

            //Number - amount extra to add to the radius to cater for hit detection outside the drawn point
            pointHitDetectionRadius : 20,

            //Boolean - Whether to show a stroke for datasets
            datasetStroke : true,

            //Number - Pixel width of dataset stroke
            datasetStrokeWidth : 2,

            //Boolean - Whether to fill the dataset with a colour
            datasetFill : true,

            //String - A legend template
            legendTemplate : "<ul class=\"<%=name.toLowerCase()%>-legend\"><% for (var i=0; i<datasets.length; i++){%><li><span style=\"background-color:<%=datasets[i].strokeColor%>\"></span><%if(datasets[i].label){%><%=datasets[i].label%><%}%></li><%}%></ul>"

        };
        var myLineChart = new Chart(ctx).Line(data, options);
    }

    var sunday_data = {
                    label: "Sunday",
                    fillColor: "rgba(42,54,59,0.5)",
                    strokeColor: "rgba(0,0,0,1)",
                    pointColor: "rgba(0,0,0,1)",
                    pointStrokeColor: "#fff",
                    pointHighlightFill: "#fff",
                    pointHighlightStroke: "rgba(0,0,0,1)",
                    data: [75, 78, 80, 81, 72, 69, 74, 80]
                };
    var monday_data = {
                    label: "Monday",
                    fillColor: "rgba(42,54,59,0.5)",
                    strokeColor: "rgba(0,0,0,1)",
                    pointColor: "rgba(0,0,0,1)",
                    pointStrokeColor: "#fff",
                    pointHighlightFill: "#fff",
                    pointHighlightStroke: "rgba(0,0,0,1)",
                    data: [80, 81, 72, 69, 72, 78,  74, 80]
                };
    var tuesday_data = {
                    label: "Tuesday",
                    fillColor: "rgba(42,54,59,0.5)",
                    strokeColor: "rgba(0,0,0,1)",
                    pointColor: "rgba(0,0,0,1)",
                    pointStrokeColor: "#fff",
                    pointHighlightFill: "#fff",
                    pointHighlightStroke: "rgba(0,0,0,1)",
                    data: [75, 72, 69, 74, 80, 78, 80, 81,]
                };
    var wednesday_data = {
                    label: "Wednesday",
                    fillColor: "rgba(42,54,59,0.5)",
                    strokeColor: "rgba(0,0,0,1)",
                    pointColor: "rgba(0,0,0,1)",
                    pointStrokeColor: "#fff",
                    pointHighlightFill: "#fff",
                    pointHighlightStroke: "rgba(0,0,0,1)",
                    data: [69, 74, 80, 75, 78, 80, 81, 72]
                };
    var thursday_data = {
                    label: "Thursday",
                    fillColor: "rgba(42,54,59,0.5)",
                    strokeColor: "rgba(0,0,0,1)",
                    pointColor: "rgba(0,0,0,1)",
                    pointStrokeColor: "#fff",
                    pointHighlightFill: "#fff",
                    pointHighlightStroke: "rgba(0,0,0,1)",
                    data: [75, 78, 77, 81, 72, 70, 74, 80]
                };
    var friday_data = {
                    label: "Friday",
                    fillColor: "rgba(42,54,59,0.5)",
                    strokeColor: "rgba(0,0,0,1)",
                    pointColor: "rgba(0,0,0,1)",
                    pointStrokeColor: "#fff",
                    pointHighlightFill: "#fff",
                    pointHighlightStroke: "rgba(0,0,0,1)",
                    data: [ 76, 75, 79, 83, 85, 84, 83, 80]
                };
    var saturday_data = {
                    label: "Saturday",
                    fillColor: "rgba(42,54,59,0.5)",
                    strokeColor: "rgba(0,0,0,1)",
                    pointColor: "rgba(0,0,0,1)",
                    pointStrokeColor: "#fff",
                    pointHighlightFill: "#fff",
                    pointHighlightStroke: "rgba(0,0,0,1)",
                    data: [72, 78, 82, 81, 72, 75, 74, 80]
                };

    draw_graph(sunday_data);



    // {
                //     label: "Monday",
                //     fillColor: "rgba(42,54,59,0.5)",
                //     strokeColor: "rgba(0,0,0,1)",
                //     pointColor: "rgba(0,0,0,1)",
                //     pointStrokeColor: "#fff",
                //     pointHighlightFill: "#fff",
                //     pointHighlightStroke: "rgba(0,0,0,1)",
                //     data: [75, 90, 80, 81, 72, 69, 74, 80]
                // },
                // {
                //     label: "Tuesday",
                //     fillColor: "rgba(42,54,59,0.5)",
                //     strokeColor: "rgba(0,0,0,1)",
                //     pointColor: "rgba(0,0,0,1)",
                //     pointStrokeColor: "#fff",
                //     pointHighlightFill: "#fff",
                //     pointHighlightStroke: "rgba(0,0,0,1)",
                //     data: [75, 78, 80, 65, 72, 69, 74, 80]
                // },
                // {
                //     label: "Wednesday",
                //     fillColor: "rgba(42,54,59,0.5)",
                //     strokeColor: "rgba(0,0,0,1)",
                //     pointColor: "rgba(0,0,0,1)",
                //     pointStrokeColor: "#fff",
                //     pointHighlightFill: "#fff",
                //     pointHighlightStroke: "rgba(0,0,0,1)",
                //     data: [75, 78, 99, 81, 72, 69, 74, 80]
                // }
        
</script>
